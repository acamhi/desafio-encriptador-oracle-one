<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <title>Encriptador</title>
</head>
<body>
    <main class="cuerpo">

        <div class="container-izq">
            <h1><img class="logo" src="img/Logo.png" alt=""></h1>
            <textarea autofocus placeholder="Ingrese el texto aquí" class="texto-encriptado" id="" cols="45" rows="10"></textarea>
            <div class="botones">
                <p class="tooltip">&#149 Solo letras minúsculas y sin acentos.</p>
                <button class="btn" id="btn-encriptar">Encriptar</button>
                <button class="btn" id="btn-desencriptar">Desencriptar</button>
            </div>

        </div>

        <div class="container-der">
            <div class="caja">
                <img class="muñeco" id="muñeco" src="img/Muñeco.png" alt="Personaje Alura">
                <p class="txt-caja" id="txt-caja"></p>
                <p class="msj-no-encontrado" id="msj-no-encontrado">Ningún mensaje fue encontrado</p>
                <p class="instrucciones" id="instrucciones">Ingresa el texto que desees encriptar o desencriptar</p>
            </div>
        </div>
    </main>

    <script>
        var buscarA = "a";
        var remplazarA = "ai"
        var msgTxtArea = document.querySelector("textarea");

       
        function encriptar(){
            
            

            //Selecciona el texto de la caja.
            var txtCaja = document.getElementById("txt-caja");
            //Almacena el valor del texto de la textarea.
            var textoModificar = msgTxtArea.value;
            //Reemplaza todas las coincidencias y almacena la nueva string en la variable nuevoTxt.
            var nuevoTxt = textoModificar
            .replaceAll("e", "enter")
            .replaceAll("i", "imes")
            .replaceAll("a", "ai")
            .replaceAll("o", "ober")
            .replaceAll("u", "ufat");

            
            //Si el texto no está vacío, oculta los elementos de la caja y muestra el texto encriptado.
            if(textoModificar.length !== 0){
                //Esconde imagen y mensajes predeterminados.
                document.getElementById("muñeco").style.display = "none";
                document.getElementById("msj-no-encontrado").style.display = "none";
                document.getElementById("instrucciones").style.display = "none";
                //Modifica el html para que sea el texto de la textarea pero con las modificaciones.
                txtCaja.innerHTML = nuevoTxt;

            //De lo contrario vuelve a mostrar los elementos de la caja.
            } else {
                txtCaja.innerHTML = "";
                document.getElementById("muñeco").style.display = "block";
                document.getElementById("msj-no-encontrado").style.display = "block";
                document.getElementById("instrucciones").style.display = "block";
            }


        }

        function desencriptar(){
            //Seleccionar texto de la caja
            var txtCaja = document.getElementById("txt-caja");
            //Almacena el valor del texto de la textarea.
            var textoModificar = msgTxtArea.value;
            //Reemplaza todas las coincidencias y almacena la nueva string en la variable nuevoTxt.
            var nuevoTxt = textoModificar
            .replaceAll("enter", "e")
            .replaceAll("imes", "i")
            .replaceAll("ai", "a")
            .replaceAll("ober", "o")
            .replaceAll("ufat", "u");
            //Modifica el html para que sea el texto de la textarea pero con las modificaciones.

            if(textoModificar.length !== 0){
                document.getElementById("muñeco").style.display = "none";
                document.getElementById("msj-no-encontrado").style.display = "none";
                document.getElementById("instrucciones").style.display = "none";
                txtCaja.innerHTML = nuevoTxt;
            } else {
                txtCaja.innerHTML = "";
                document.getElementById("muñeco").style.display = "block";
                document.getElementById("msj-no-encontrado").style.display = "block";
                document.getElementById("instrucciones").style.display = "block";
            }           

        }

        var selecBtnEncriptar = document.querySelector("#btn-encriptar");
        selecBtnEncriptar.onclick = encriptar;

        var selecBtnDesencriptar = document.querySelector("#btn-desencriptar");
        selecBtnDesencriptar.onclick = desencriptar;
    </script>

    <footer>
        <p class="copyrights">&copy Creado por Arie Camhi.</p>
    </footer>
    
</body>
</html>